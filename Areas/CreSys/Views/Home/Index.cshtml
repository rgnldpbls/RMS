@{
    ViewData["Title"] = "Center for Research Ethics";
    var currentRole = Context.Session.GetString("CurrentRole") ?? "Researcher"; // Default to Researcher if no role is set
}

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
    <title>CREFRONTEND</title>
    <link rel="stylesheet" href="~/css/home.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/lib/font-awesome/css/all.css" asp-append-version="true" />

    <style>
        /* Centered Search and Filter Container */
        .search-filter-container {
            display: flex;
            justify-content: center; /* Center horizontally */
            align-items: center;
            margin-top: 20px; /* Space above the search bar */
            margin-bottom: 10px; /* Space below the search bar */
        }

        /* Search Input Styles */
        .search-container {
            position: relative;
            width: 100%;
            max-width: 900px; /* Longer search bar */
            margin: 0 auto; /* Center horizontally */
        }

        #searchBar {
            width: 100%;
            height: 50px; /* Slightly taller for better visibility */
            padding: 10px 50px 10px 20px; /* Spacing for text and icon */
            font-size: 16px;
            border-radius: 30px; /* Rounded corners */
            border: 1px solid #850000; /* Maroon border */
            background-color: #ffffff; /* White background */
            color: #333; /* Dark text */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        }

        /* Icon inside the search bar */
        .search-container button {
            position: absolute;
            right: 10px; /* Distance from the right edge */
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #850000; /* Maroon icon color */
            font-size: 18px;
            cursor: pointer;
        }

        .btn-maroon {
            background-color: #800000; /* Maroon background color */
            color: white; /* White text */
            border: none; /* Remove border */
        }

            .btn-maroon:hover {
                background-color: #660000; /* Darker maroon on hover */
                color: white; /* Ensure the text stays white */
            }
    </style>
</head>
<body>
    <div id="welcome">
        <div class="content-wrapper">
            <div id="CRETITLE">CENTER FOR RESEARCH ETHICS</div>
            <p id="welcome-content" class="mb-4">
                The Center for Research Ethics (CRE) facilitates the requests for ethics clearance. The center ensures to
                protect potential participants in the research, but it must also consider potential risks and benefits
                for the community in which the research will be carried out. Its goal is to promote high ethical
                standards in research.
            </p>
            <!-- Search Bar -->
            <div class="search-filter-container">
                <div class="search-container">
                    <form asp-controller="Researcher" asp-action="TrackApplication" method="get">
                        <input type="text"
                               id="searchBar"
                               name="UrecNo"
                               placeholder="Track Application, Search by UREC Number"
                               required />
                        <button type="submit">
                            <i class="fas fa-search"></i>
                        </button>
                    </form>
                </div>
            </div>

            <!-- Apply Button -->
            <div class="my-3">
                @if (currentRole == "Student" || currentRole == "Faculty" || currentRole == "External Researcher")
                {
                    <a id="btn-apply" class="btn me-2" role="button" asp-area="CreSys" asp-controller="Researcher" asp-action="Applications">Apply</a>
                }
            </div>

            <!-- Get Started Button -->
            <div class="my-3">
                @if (currentRole == "Chairperson")
                {
                    <a id="btn-get-started" class="btn btn-maroon me-2" role="button" asp-controller="Chairperson" asp-action="GetStarted">Get Started</a>
                }
            </div>
            <div class="my-3">
                @if (currentRole == "CRE Evaluator")
                {
                    <a id="btn-get-started" class="btn btn-maroon me-2" role="button" asp-controller="Evaluator" asp-action="GetStarted">Get Started</a>
                }
            </div>
        </div>
    </div>

    @if (currentRole == "Student" || currentRole == "Faculty")
    {
        <div class="ethics-clearance-requirements">
            <h2>Application for Research Ethics Certification</h2>
            <h3>Ethics Clearance Requirements</h3>
            <p>To initiate the review process of the research proposal, the researcher/s must submit the following documents:</p>
            <ol>
                <li>Letter of Intent: Addressed to the Vice President for Research, Extension, and Development (VPRED);</li>
                <li>Application Form: UREC Form 101 (for study involving human participants);</li>
                <li>
                    Accomplished Research Protocol: The research protocol should cover the following: Title of the Study,
                    Significance of the Study, Literature Review, Objectives of the Study, Methodology and Procedures,
                    Description of the Study Population, Data Collection Procedure and Instruments, Data Analysis, Plan for
                    Dissemination of Results, and Plan for Disposal of Biological Specimens, if any;
                </li>
                <li>
                    Informed Consent: UREC Form 102 (for detailing ethical considerations). If the research involves
                    non-human subjects, consent UREC Form 103 for Non-Human Subjects must be filled out;
                </li>
                <li>Survey Questionnaire: If the study involves human respondents;</li>
                <li>Assent Form: UREC Form 5 should be used for studies with minor respondents;</li>
                <li>
                    Research Questionnaire: with reliability or validity test results. In the case of an adapted research
                    questionnaire, a copy of the original questionnaire should be provided along with proof of permission to
                    use the said research questionnaire;
                </li>
                <li>
                    Certificate of Validity: Submit this document if the study instrument is researcher-made or adapted but
                    modified;
                </li>
                <li>Curriculum Vitae of the researcher/s; and</li>
                <li>Co-authorship agreement for multiple authorship.</li>
            </ol>
            <a class="download-btn" asp-area="CreSys" asp-controller="Researcher" asp-action="DownloadForms">Download Forms</a>
        </div>
    }
</body>
