@page
@model RegisterModel
@{
    ViewData["Title"] = "Register";
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter&family=Montserrat&family=Poppins&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        html, body {
            min-height: 90vh;
           
            background-image: url('/images/login-bg.jpg');
            background-size: cover;
        }

        #main {
            background: rgb(0, 0, 0, 0.7);
            backdrop-filter: blur(30px);
            width: fit-content;
        }

        h4, h6 {
            color: white;
            text-align: center;
        }

        h4 {
            font-family: "Poppins";
            font-weight: bold;
        }

        h6 {
            font-family: "Montserrat";
        }

        img {
            height: 100px;
        }

        #title {
            color: white;
            font-family: "Inter";
            font-size: 35px;
            font-weight: bold;
        }

        #message {
            color: rgba(255, 255, 255, 0.7);
            font-family: "Inter";
            font-size: 15px;
        }

        input, select {
            font-family: "Inter";
        }

            input[type="submit"] {
                background: #850000;
                border-radius: 15px;
                height: 50px;
                padding: 0px 30px;
                color: white;
                font-size: 20px;
                border: none;
                outline: none;
                transition: .1s;
            }

                input[type="submit"]:hover {
                    background: #560000;
                }

        a {
            font-size: 18px;
            color: #FFDB89;
            font-family: "Inter";
            background: none;
            text-decoration: none;
            text-align: center;
        }
    </style>
</head>
<body class="d-flex justify-content-center align-items-center">
    <div class="container border border-white border-5 rounded-5 p-5" id="main">
        <!--Logo Section-->
        <div class="d-flex justify-content-center align-items-center">
           
            <img src="~/images/rmologo.png" alt="rmo-logo" class="rounded-circle" />
            <div class="ms-3">
                <h4>Research Management Office</h4>
                <h6>Polytechnic University of the Philippines</h6>
            </div>
        </div>

        <!--Title-->
        <div id="title" class="d-flex justify-content-center align-items-center">
            Register
        </div>

        <!-- Form Section -->
        <form id="registerForm" asp-route-returnUrl="@Model.ReturnUrl" method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger" role="alert"></div>

            <!-- First Name -->
            <div class="form-floating mt-3">
                <input asp-for="Input.FirstName" class="form-control" placeholder="First Name" />
                <label asp-for="Input.FirstName">First Name</label>
                <span asp-validation-for="Input.FirstName" class="text-danger"></span>
            </div>

            <!-- Middle Name -->
            <div class="form-floating mt-3">
                <input asp-for="Input.MiddleName" class="form-control" placeholder="Middle Name" />
                <label asp-for="Input.MiddleName">Middle Name</label>
            </div>

            <!-- Last Name -->
            <div class="form-floating mt-3">
                <input asp-for="Input.LastName" class="form-control" placeholder="Last Name" />
                <label asp-for="Input.LastName">Last Name</label>
                <span asp-validation-for="Input.LastName" class="text-danger"></span>
            </div>

            <div class="form-floating mt-3">
                <input asp-for="Input.Birthdate" type="date" class="form-control" placeholder="Birthdate"/>
                <label asp-for="Input.Birthdate">Birthdate</label>
                <span asp-validation-for="Input.Birthdate" class="text-danger"></span>
            </div>

            <!-- Role -->
            <div class="form-floating mt-3">
                <select id="roleDropdown" asp-for="Input.Role" class="form-control">
                    <option value="">-- Select Role --</option>
                    <option value="student">Student</option>
                    <option value="faculty">Faculty</option>
                    <option value="External Researcher">External Researcher</option>
                    <option value="stakeholder">Stakeholder</option>
                </select>
                <label asp-for="Input.Role">Role</label>
                <span asp-validation-for="Input.Role" class="text-danger"></span>
            </div>

            <!-- Campus -->
            <div id="campusField" class="form-floating mt-3">
                <select asp-for="Input.Campus" class="form-control" id="CampusDropdown">
                    <option value="">-- Select Campus --</option>
                    <option value="Sta. Mesa (MAIN CAMPUS)">Sta. Mesa (MAIN CAMPUS)</option>
                    <option value="Taguig City (BRANCH)">Taguig City (BRANCH)</option>
                    <option value="Quezon City (BRANCH)">Quezon City (BRANCH)</option>
                    <option value="San Juan City (BRANCH)">San Juan City (BRANCH)</option>
                    <option value="Parañaque City (CAMPUS)">Parañaque City (CAMPUS)</option>
                    <option value="Bataan (BRANCH)">Bataan (BRANCH)</option>
                    <option value="Sta. Maria, Bulacan (CAMPUS)">Sta. Maria, Bulacan (CAMPUS)</option>
                    <option value="Pulilan, Bulacan (CAMPUS)">Pulilan, Bulacan (CAMPUS)</option>
                    <option value="Cabiao, Nueva Ecija (CAMPUS)">Cabiao, Nueva Ecija (CAMPUS)</option>
                    <option value="Lopez, Quezon (BRANCH)">Lopez, Quezon (BRANCH)</option>
                    <option value="Malunay, Quezon (BRANCH)">Malunay, Quezon (BRANCH)</option>
                    <option value="Unisan, Quezon (BRANCH)">Unisan, Quezon (BRANCH)</option>
                    <option value="Ragay, Camarines Sur (BRANCH)">Ragay, Camarines Sur (BRANCH)</option>
                    <option value="Sto. Tomas, Batangas (BRANCH)">Sto. Tomas, Batangas (BRANCH)</option>
                    <option value="Maragondon, Cavite (BRANCH)">Maragondon, Cavite (BRANCH)</option>
                    <option value="Bansud, Oriental Mindoro (BRANCH)">Bansud, Oriental Mindoro (BRANCH)</option>
                    <option value="Sablayan, Occidental Mindoro (BRANCH)">Sablayan, Occidental Mindoro (BRANCH)</option>
                    <option value="Biñan, Laguna (CAMPUS)">Biñan, Laguna (CAMPUS)</option>
                    <option value="San Pedro, Laguna (CAMPUS)">San Pedro, Laguna (CAMPUS)</option>
                    <option value="Sta. Rosa, Laguna (CAMPUS)">Sta. Rosa, Laguna (CAMPUS)</option>
                    <option value="Calauan, Laguna (CAMPUS)">Calauan, Laguna (CAMPUS)</option>
                </select>
                <label asp-for="Input.Campus">Campus</label>
                <span asp-validation-for="Input.Campus" class="text-danger"></span>
            </div>

            <!-- College -->
            <div class="form-floating mt-3" id="collegeDiv">
                <select asp-for="Input.College" class="form-select" aria-label="College" id="college">
                    <option value="">Select College</option>
                    <option value="CAF">College of Accountancy and Finance (CAF)</option>
                    <option value="CADBE">College of Architecture, Design and the Built Environment (CADBE)</option>
                    <option value="CAL">College of Arts and Letters (CAL)</option>
                    <option value="CBA">College of Business Administration (CBA)</option>
                    <option value="COC">College of Communication (COC)</option>
                    <option value="CCIS">College of Computer and Information Sciences (CCIS)</option>
                    <option value="COED">College of Education (COED)</option>
                    <option value="CE">College of Engineering (CE)</option>
                    <option value="CHK">College of Human Kinetics (CHK)</option>
                    <option value="CL">College of Law (CL)</option>
                    <option value="CPSPA">College of Political Science and Public Administration (CPSPA)</option>
                    <option value="CSSD">College of Social Sciences and Development (CSSD)</option>
                    <option value="CS">College of Science (CS)</option>
                    <option value="CTHTM">College of Tourism, Hospitality and Transportation Management (CTHTM)</option>
                    <option value="ITECH"> Institute of Technology (ITECH)</option>
                </select>
                <label asp-for="Input.College">College</label>

                <span asp-validation-for="Input.College" class="text-danger"></span>
            </div>

            <!-- Department -->
            <div class="form-floating mt-3" id="departmentDiv">
                <select asp-for="Input.Department" id="department" class="form-select mb-3">
                    <option value="">Department</option>
                </select>
                <label asp-for="Input.Department">Department</label>
                <span asp-validation-for="Input.Department" class="text-danger"></span>
            </div>

            <!-- Email -->
            <div class="form-floating mt-3">
                <input asp-for="Input.Email" class="form-control" placeholder="name@example.com" />
                <label asp-for="Input.Email">Email</label>
                <span asp-validation-for="Input.Email" class="text-danger"></span>
            </div>

            <!-- Password -->
            <div class="form-floating mt-3">
                <input asp-for="Input.Password" class="form-control" type="password" placeholder="Password" id="pas"/>
                <label asp-for="Input.Password">Password</label>
                <span asp-validation-for="Input.Password" class="text-danger"></span>
                <input type="checkbox" class="bg-danger form-check-input" onclick="myFunction()"> <span class="mt-2 text-white">Show Password</span>

            </div>

            <!-- Confirm Password -->
            <div class="form-floating mt-3 mb-3">
                <input asp-for="Input.ConfirmPassword" class="form-control" type="password" placeholder="Confirm Password" id="conpas" />
                <label asp-for="Input.ConfirmPassword">Confirm Password</label>
                <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
                <input type="checkbox" class="bg-danger form-check-input" onclick="myFunctiontwo()"> <span class="mt-2 text-white">Show Password</span>
            </div>

            <div class="d-flex justify-content-center align-items-center mt-3">
                <button type="submit" class="btn btn-danger">Register</button>
            </div>
        </form>

        <!-- Links Section -->
        <div class="d-flex justify-content-center align-items-center mt-2">
            <a href="Login">Already have an account? Log in</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
</body>
</html>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

<script>
    function myFunction() {
        var x = document.getElementById("pas");
        if (x.type === "password") {
            x.type = "text";
        } else {
            x.type = "password";
        }
    }
    function myFunctiontwo() {
        var x = document.getElementById("conpas");
        if (x.type === "password") {
            x.type = "text";
        } else {
            x.type = "password";
        }
    }

    //dept and college select
    $(document).ready(function () {
        var departments = {
            CAF: [
                { value: 'BSA', text: 'Bachelor of Science in Accountancy' },
                { value: 'BSMA', text: 'Bachelor of Science in Management Accounting' },
                { value: 'BSBAFM', text: 'Bachelor of Science in Business Administration Major in Financial Management' }
            ],
            CADBE: [
                { value: 'BS-ARCH', text: 'Bachelor of Science in Architecture' },
                { value: 'BSID', text: 'Bachelor of Science in Interior Design' },
                { value: 'BSEP', text: 'Bachelor of Science in Environmental Planning' }
            ],
            CAL: [
                { value: 'ABELS', text: 'Bachelor of Arts in English Language Studies' },
                { value: 'ABF', text: 'Bachelor of Arts in Filipinology' },
                { value: 'ABLCS', text: 'Bachelor of Arts in Literary and Cultural Studies' },
                { value: 'AB-PHILO', text: 'Bachelor of Arts in Philosophy' },
                { value: 'BPEA', text: 'Bachelor of Performing Arts major in Theater Arts' }
            ],
            CBA: [
                { value: 'DBA', text: 'Doctor in Business Administration' },
                { value: 'MBA', text: 'Master in Business Administration' },
                { value: 'BSBAHRM', text: 'Bachelor of Science in Business Administration major in Human Resource Management' },
                { value: 'BSBA-MM', text: 'Bachelor of Science in Business Administration major in Marketing Management' },
                { value: 'BSENTREP', text: 'Bachelor of Science in Entrepreneurship' },
                { value: 'BSOA', text: 'Bachelor of Science in Office Administration' },

            ],
            COC: [
                { value: 'BADPR', text: 'Bachelor in Advertising and Public Relations' },
                { value: 'BA_Broadcasting', text: 'Bachelor of Arts in Broadcasting' },
                { value: 'BAJ', text: 'Bachelor of Arts in Journalism' }
            ],
            CCIS: [
                { value: 'BSCS', text: 'Bachelor of Science in Computer Science' },
                { value: 'BSIT', text: 'Bachelor of Science in Information Technology' }
            ],
            COED: [
                { value: 'PhDEM', text: 'Doctor of Philsophy in Education Management' },
                { value: 'MAEM', text: 'Master of Arts in Education Management' },
                { value: 'MBE', text: 'Master in Business Education' },
                { value: 'MLIS', text: 'Master in Library and Information Science' },
                { value: 'MAELT', text: 'Master of Arts in English Language Teaching' },
                { value: 'MAEd-ME', text: 'Master of Arts in Education major in Mathematics Education' },
                { value: 'MAPES', text: 'Master of Arts in Physical Education and Sports' },
                { value: 'MAED-TCA', text: 'Master of Arts in Education major in Teaching in the Challenged Areas' },
                { value: 'PBDE', text: 'Post-Baccalaureate Diploma in Education' },
                { value: 'BTLEd', text: 'Bachelor of Technology and Livelihood Education' },
                { value: 'BLIS', text: 'Bachelor of Library and Information Science' },
                { value: 'BSEd', text: 'Bachelor of Secondary Education' },
                { value: 'BEEd', text: 'Bachelor of Elementary Education' },
                { value: 'BECEd', text: 'Bachelor of Early Childhood Education' },
            ],
            CE: [
                { value: 'BSCE', text: 'Bachelor of Science in Civil Engineering' },
                { value: 'BSCpE', text: 'Bachelor of Science in Computer Engineering' },
                { value: 'BSEE', text: 'Bachelor of Science in Electrical Engineering' },
                { value: 'BSECE', text: 'Bachelor of Science in Electronics Engineering' },
                { value: 'BSIE', text: 'Bachelor of Science in Industrial Engineering' },
                { value: 'BSME', text: 'Bachelor of Science in Mechanical Engineering' },
                { value: 'BSRE', text: 'Bachelor of Science in Railway Engineering' },

            ],
            CHK: [
                { value: 'BPE', text: 'Bachelor of Physical Education' },
                { value: 'BSESS', text: 'Bachelor of Science in Exercises and Sports' }
            ],
            CL: [
                { value: 'JD', text: 'Juris Doctor' }
            ],
            CPSPA: [
                { value: 'DPA', text: 'Doctor in Public Administration' },
                { value: 'MPA', text: 'Master in Public Administration' },
                { value: 'BPA', text: 'Bachelor of Public Administration' },
                { value: 'BAIS', text: 'Bachelor of Arts in International Studies' },
                { value: 'BAPE', text: 'Bachelor of Arts in Political Economy' },
                { value: 'BAPS', text: 'Bachelor of Arts in Political Science' },
            ],
            CSSD: [
                { value: 'BAH', text: 'Bachelor of Arts in History' },
                { value: 'BAS', text: 'Bachelor of Arts in Sociology' },
                { value: 'BSC', text: 'Bachelor of Science in Cooperatives' },
                { value: 'BSE', text: 'Bachelor of Science in Economics' },
                { value: 'BSPSY', text: 'Bachelor of Science in Psychology' },
            ],
            CS: [
                { value: 'BSFT', text: 'Bachelor of Science Food Technology' },
                { value: 'BSAPMATH', text: 'Bachelor of Science in Applied Mathematics' },
                { value: 'BSBIO', text: 'Bachelor of Science in Biology' },
                { value: 'BSCHEM', text: 'Bachelor of Science in Chemistry' },
                { value: 'BSMATH', text: 'Bachelor of Science in Mathematics' },
                { value: 'BSND', text: 'Bachelor of Science in Nutrition and Dietetics' },
                { value: 'BSPHY', text: 'Bachelor of Science in Physics' },
                { value: 'BSSTAT', text: 'Bachelor of Science in Statistics' }
            ],
            CTHTM: [
                { value: 'BSHM', text: 'Bachelor of Science in Hospitality Management' },
                { value: 'BSTM', text: 'Bachelor of Science in Tourism Management' },
                { value: 'BSTRM', text: 'Bachelor of Science in Transportation Management' }
            ],
            ITECH: [
                { value: 'DCvET', text: 'Diploma in Civil Engineering Technology' },
                { value: 'DCET', text: 'Diploma in Computer Engineering Technology' },
                { value: 'DEET', text: 'Diploma in Electrical Engineering Technology' },
                { value: 'DECET', text: 'Diploma in Electronics Engineering Technology' },
                { value: 'DICT', text: 'Diploma in Information Communication Technology' },
                { value: 'DMET', text: 'Diploma in Mechanical Engineering Technology' },
                { value: 'DOMT', text: 'Diploma in Office Management Technology' },
                { value: 'DRET', text: 'Diploma in Railway Engineering Technology' }
            ]
        };

        $('#college').change(function () {
            var college = $(this).val();
            var $department = $('#department');

            $department.empty();

            if (college && departments[college]) {
                departments[college].forEach(function (department) {
                    $department.append('<option value="' + department.value + '">' + department.text + '</option>');
                });
            }
        });
    });

    document.addEventListener("DOMContentLoaded", function () {
        const campusDropdown = document.getElementById("CampusDropdown");
        const collegeDropdownContainer = document.getElementById("collegeDiv");
        const department = document.getElementById("departmentDiv")

        // Function to handle dynamic changes and realign
        function toggleCollegeDropdown() {
            const selectedCampus = campusDropdown.value;

            if (selectedCampus === "Sta. Mesa (MAIN CAMPUS)" || campusDropdown.disabled || selectedCampus === "") {
                collegeDropdownContainer.style.display = "flex";
                department.style.display = "flex";
            } else {
                collegeDropdownContainer.style.display = "none";
                department.style.display = "none";
            }

            // Trigger layout recalculation after change
            window.dispatchEvent(new Event('resize'));  // Forces the browser to recalculate the layout
        }

        // Apply logic when the page loads
        toggleCollegeDropdown();

        campusDropdown.addEventListener("change", toggleCollegeDropdown);
    });

    document.addEventListener("DOMContentLoaded", function () {
        const roleDropdown = document.getElementById("roleDropdown");
        const campusField = document.getElementById("campusField");
        const collegeDiv = document.getElementById("collegeDiv");
        const departmentDiv = document.getElementById("departmentDiv");

        // Debugging: Log elements
        console.log("Role Dropdown:", roleDropdown);
        console.log("Campus Field:", campusField);
        console.log("College Div:", collegeDiv);
        console.log("Department Div:", departmentDiv);

        if (!roleDropdown || !campusField || !collegeDiv || !departmentDiv) {
            console.error("One or more elements not found. Check the IDs and asp-for attributes.");
            return;
        }

        function toggleFieldsBasedOnRole() {
            const selectedRole = roleDropdown.value;
            console.log("Selected Role:", selectedRole);

            if (selectedRole === "stakeholder" || selectedRole === "External Researcher") {
                campusField.style.display = "none";
                collegeDiv.style.display = "none";
                departmentDiv.style.display = "none";
            } else {
                campusField.style.display = "block";
                collegeDiv.style.display = "block";
                departmentDiv.style.display = "block";
            }
        }

        toggleFieldsBasedOnRole();

        roleDropdown.addEventListener("change", toggleFieldsBasedOnRole);
    });


</script>


